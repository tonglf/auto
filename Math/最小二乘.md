# 最小二乘

## 线性最小二乘

线性最小二乘：
$$
min_x ||Ax-b||^2_2
$$
将上式展开得到：
$$
||Ax-b||^2_2 = (Ax-b)^T(Ax-b)=x^TA^TAx-2x^TA^Tb+b^Tb
$$
对 $x$ 求偏导，并令其导数为零：
$$
\frac{\partial||Ax-b||^2}{\partial x} = 2A^TAx-2A^Tb=0
$$
化简后：
$$
A^TAx =A^Tb
$$
以上被称为最小二乘的**正规方程（Normal Equation）**，进一步求解可得到：
$$
x =(A^TA)^{-1}A^Tb
$$


## 非线性最小二乘

非线性最小二乘：
$$
min_x F(x) = \frac{1}{2}||f(x)||^2_2
$$
对于该函数来说，求取最小值最简单的方法就是对该函数求导，然后让导数等于 0，求解 $x$ 的最优值。然而，函数可能是十分复杂的，使得直接求导变得很难。对于不方便直接求解的最小二乘问题，可以使用迭代的方式，从一个初值出发，不断更新当前的优化变量，使目标函数下降。

### 最速下降法


$$
\Delta x^* = -J(x_k)
$$


### 牛顿法


$$
H \Delta x = -J
$$


### 高斯牛顿法


$$
J(x)J^T(x) \Delta x = -J(x)f(x)
\\
H\Delta x = g
$$


### L-M 法


$$
(H +\lambda I) \Delta x_k = g
$$


参考：

1. 高翔 《视觉SLAM十四讲》
2. [最小二乘法的本质是什么](https://www.zhihu.com/question/37031188/answer/411760828)
3. https://zhuanlan.zhihu.com/p/113946848
4. https://zhuanlan.zhihu.com/p/114820251
4. [最小二乘、梯度下降法、牛顿与高斯-牛顿与LM关系总结](https://blog.csdn.net/try_again_later/article/details/88119701)